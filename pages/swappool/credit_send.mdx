# Credit Send

## What is Credit Send?

**Credit Send** allows you to send payment to someone using their preferred token, even when you hold a different token. The protocol automatically swaps your tokens through swap pools, making cross-community payments as easy as a regular send.

## Flow

- **SAT** = Sender's Active Token (your default token)
- **RAT** = Recipient's Active Token (their preferred token)

### Summary Flow

1. **If SAT = RAT** → Normal direct send
2. **If SAT ≠ RAT** → Look for a swap route through pools
  - Route found → Enable Credit Send mode
  - No route → Fall back to normal send

In Credit Send mode:
1. You enter amount in RAT (recipient's token)
2. System calculates maximum amount of SAT you can swap to RAT (using `MaxSwap` logic) + any fees
3. System swaps SAT → RAT through pool(s)

![](/sat_rat.png)


## Real-World Example

### Scenario: Hailing a ride from a tuktuk driver in MNYUMBUNI community

**You hold USDT tokens. The vendor prefers TUKTUK vouchers.**

#### Your Setup
- **Your Token (SAT)**: USDT
- **Balance**: 1000 USDT
- **Vendor's Token (RAT)**: TUKTUK


#### The MNYUMBUNI Pool setup
The MNYUMBUNI pool contains both TUKTUK and USDT:

- **TUKTUK in pool (Holding Debt)**: 20861 TUKTUK
- **TUKTUK limit**: 42000 TUKTUK
- **Exchange rate**: 1 USDT = 128 TUKTUK
- **Routing depth**: 0 (both tokens in same pool)

#### What Happens

1. **You select the vendor** as recipient
2. **System detects**: TUKTUK ≠ USD
3. **System checks pools**: Found route through MNYUMBUNI pool.
4. **System displays**:
   ```
    Credit Available: 20861 TUKTUK
   (You can swap up to 162.97 USDT -> 20861 TUKTUK)
   ```

5. **You enter**: "300 TUKTUK" (to pay for a single ride)

6. **Behind the scenes**:
   - System calculates required USDT to get 300 TUKTUK:
     - 300 TUKTUK / 128 (rate) = 2.34375 USDT
   - System checks your USDT balance (1000 USDT) → Sufficient
   - System checks max swap capacity: 162.97 USDT → the Max
   - System swaps: 2.34375 USDT → 300 TUKTUK (through MNYUMBUNI pool)
   - Sends: 300 TUKTUK to vendor

* Credit available is determined by `MaxSwap` logic as per [Integration](/swappool/integration) page.